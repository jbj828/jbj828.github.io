
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Developer Javit">
    <title>WebSocket - Developer Javit</title>
    <meta name="author" content="Jay Chung">
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Jay Chung","sameAs":["https://github.com/jbj828"]},"articleBody":"WebSocket\n\n\nThe WebSocket Protocol\nWebSockets allow for full-duplex communication.\nWebSocket is a seperate protocol from HTTP\nPersistent connection between client and server.\n\n1npm i socket.io\n\nSocket.io can be used on its own or with Express. Since the chat application will be serving up client-sied assets, both Express and Socket.io will get set up. \n12345678910111213141516171819202122232425const path &#x3D; require(&#39;path&#39;)const http &#x3D; require(&#39;http&#39;)const express &#x3D; require(&#39;express&#39;)const socketio &#x3D; require(&#39;socket.io&#39;)&#x2F;&#x2F; Create the Express applicationconst app &#x3D; express()&#x2F;&#x2F; Create the HTTP server using the Express appconst server &#x3D; http.createServer(app)&#x2F;&#x2F; Connect socket.io to the HTTP serverconst io &#x3D; socketio(server)const port &#x3D; process.env.PORT || 3000const publicDirectoryPath &#x3D; path.join(__dirname, &#39;..&#x2F;public&#39;)app.use(express.static(publicDirectoryPath))&#x2F;&#x2F; Listen for new connections to Socket.ioio.on(&#39;connection&#39;, () &#x3D;&gt; &#123; console.log(&#39;New WebSocket connection&#39;)&#125;)server.listen(port, () &#x3D;&gt; &#123; console.log(&#96;Server is up on port $&#123;port&#125;!&#96;)\n\nThe server above uses io.on which is provided by Socket.io. on allows the server to listen for an event and respond to it. In the example above, the server listens for connection which allows it to run some code when a client connects to the WebSocket server.\nSocket.io on the Client\nSocket.io is also used on the client to connect to the server. Socket.io automatically serves up /socket.io/socket.io.js which contains the client-side code. The script tags below load in the client-side library followed by a custom Javascript file.\n12&lt;script src&#x3D;&quot;&#x2F;socket.io&#x2F;socket.io.js&quot;&gt;&lt;&#x2F;script&gt;&lt;script src&#x3D;&quot;&#x2F;js&#x2F;chat.js&quot;&gt;&lt;&#x2F;script&gt;\n\nYour client-side JavaScript can then connect to the Socket.io server by calling io. io is provided by the client-side Socket.io library. Calling this function will set up the connection, and it’ll cause the server’s connection event handler to run.\n1io()","dateCreated":"2020-04-20T23:30:25+09:00","dateModified":"2020-04-20T23:51:10+09:00","datePublished":"2020-04-20T23:30:25+09:00","description":"WebSocket","headline":"WebSocket","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"http://jbj828.github.io/2020/04/20/NodeJS-Websocket/"},"publisher":{"@type":"Organization","name":"Jay Chung","sameAs":["https://github.com/jbj828"]},"url":"http://jbj828.github.io/2020/04/20/NodeJS-Websocket/","keywords":"NodeJS"}</script>
    <meta name="description" content="WebSocket">
<meta property="og:type" content="blog">
<meta property="og:title" content="WebSocket">
<meta property="og:url" content="http://jbj828.github.io/2020/04/20/NodeJS-Websocket/index.html">
<meta property="og:site_name" content="Developer Javit">
<meta property="og:description" content="WebSocket">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-04-20T14:30:25.000Z">
<meta property="article:modified_time" content="2020-04-20T14:51:10.721Z">
<meta property="article:author" content="Jay Chung">
<meta property="article:tag" content="NodeJS">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->




<header id="header" data-behavior="5">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="/" aria-label="">
      Developer Javit
    </a>
  </div>
  
  
    <a class="header-right-picture "
      href="#about"
      aria-label="Open the link: /#about">
      
      
    </a>
    
</header>
            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/index.html"
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="Tags"
                        >
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archives"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                            title="Search"
                        >
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="About"
                        >
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/jbj828" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/atom.xml"
                            
                            title="RSS"
                        >
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            WebSocket
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2020-04-20T23:30:25+09:00">
	
		    Apr 20, 2020
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/NodeJS/">NodeJS</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>WebSocket</p>
<a id="more"></a>

<h3 id="The-WebSocket-Protocol"><a href="#The-WebSocket-Protocol" class="headerlink" title="The WebSocket Protocol"></a>The WebSocket Protocol</h3><ul>
<li>WebSockets allow for full-duplex communication.</li>
<li>WebSocket is a seperate protocol from HTTP</li>
<li>Persistent connection between client and server.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i socket.io</span><br></pre></td></tr></table></figure>

<p>Socket.io can be used on its own or with Express. Since the chat application will be serving up client-sied assets, both Express and Socket.io will get set up. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">const path &#x3D; require(&#39;path&#39;)</span><br><span class="line">const http &#x3D; require(&#39;http&#39;)</span><br><span class="line">const express &#x3D; require(&#39;express&#39;)</span><br><span class="line">const socketio &#x3D; require(&#39;socket.io&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Create the Express application</span><br><span class="line">const app &#x3D; express()</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Create the HTTP server using the Express app</span><br><span class="line">const server &#x3D; http.createServer(app)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Connect socket.io to the HTTP server</span><br><span class="line">const io &#x3D; socketio(server)</span><br><span class="line"></span><br><span class="line">const port &#x3D; process.env.PORT || 3000</span><br><span class="line">const publicDirectoryPath &#x3D; path.join(__dirname, &#39;..&#x2F;public&#39;)</span><br><span class="line">app.use(express.static(publicDirectoryPath))</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Listen for new connections to Socket.io</span><br><span class="line">io.on(&#39;connection&#39;, () &#x3D;&gt; &#123;</span><br><span class="line"> console.log(&#39;New WebSocket connection&#39;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.listen(port, () &#x3D;&gt; &#123;</span><br><span class="line"> console.log(&#96;Server is up on port $&#123;port&#125;!&#96;)</span><br></pre></td></tr></table></figure>

<p>The server above uses <code>io.on</code> which is provided by Socket.io. <code>on</code> allows the server to listen for an event and respond to it. In the example above, the server listens for <code>connection</code> which allows it to run some code when a client connects to the WebSocket server.</p>
<p><strong>Socket.io on the Client</strong></p>
<p>Socket.io is also used on the client to connect to the server. Socket.io automatically serves up <code>/socket.io/socket.io.js</code> which contains the client-side code. The script tags below load in the client-side library followed by a custom Javascript file.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;&#x2F;socket.io&#x2F;socket.io.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;&#x2F;js&#x2F;chat.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>Your client-side JavaScript can then connect to the Socket.io server by calling <code>io</code>. <code>io</code> is provided by the client-side Socket.io library. Calling this function will set up the connection, and it’ll cause the server’s <code>connection</code> event handler to run.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">io()</span><br></pre></td></tr></table></figure>
            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/NodeJS/" rel="tag">NodeJS</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a
                        class="post-action-btn btn btn--disabled"
                        aria-hidden="true"
                    >
                        
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/04/18/CT-codeSignalIntro3/"
                    data-tooltip="Coding Test - Code Signal Intro 3"
                    aria-label="NEXT: Coding Test - Code Signal Intro 3"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://jbj828.github.io/2020/04/20/NodeJS-Websocket/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=http://jbj828.github.io/2020/04/20/NodeJS-Websocket/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=http://jbj828.github.io/2020/04/20/NodeJS-Websocket/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 Jay Chung. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a
                        class="post-action-btn btn btn--disabled"
                        aria-hidden="true"
                    >
                        
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/04/18/CT-codeSignalIntro3/"
                    data-tooltip="Coding Test - Code Signal Intro 3"
                    aria-label="NEXT: Coding Test - Code Signal Intro 3"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://jbj828.github.io/2020/04/20/NodeJS-Websocket/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=http://jbj828.github.io/2020/04/20/NodeJS-Websocket/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=http://jbj828.github.io/2020/04/20/NodeJS-Websocket/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=http://jbj828.github.io/2020/04/20/NodeJS-Websocket/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=http://jbj828.github.io/2020/04/20/NodeJS-Websocket/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=http://jbj828.github.io/2020/04/20/NodeJS-Websocket/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">Jay Chung</h4>
        
            <div id="about-card-bio"><p>Slowly and Steadily</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Web BackEnd Developer</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
